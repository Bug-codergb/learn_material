1. 传输层有两个协议
2. TCP面向链接，可靠传输不丢包，传输速率慢，资源消耗大（HTTP,HTTPS,FTP,SMTP,DNS）
3. UDP无连接，不可靠传输，尽最大努力交付，传输速率比较快，资源消耗小,UDP适合音视频通话
4. DNS可能是使用TCP也可能使用UDP
5. UDP
  - UDP是无连接的，减少了建立和释放链接的开销，尽最大能力交付
  - 不需要维护一些复杂的参数，首部只有8个字节
  - 检验和 （伪首部+首部+数据）
  - 伪首部仅在计算检验和时起作用，并不会传递给网络层  
  - 端口 0~65535
  - 客户端的源端口是临时开启的随机端口
  - 防火墙可以设置开启关闭某些端口来提高安全性
  - FTP-21，DNS-53 SMTP 25,POP3-110
6. TCP
  - 首部（至少20个字节）
  - 数据偏移占4位 
  - 可靠传输
  - 流量控制
  - 拥塞控制
7. urg,syn,fin,ack,push
8. UDP首部有一个16位的字段记录了整个UDP报文段的长度。
9. 传输层的数据部分长度，可以由网络层首部推断出
10. 传输层的数据长度=网络层的数据部分-传输层的首部
11. 网络层的数据部分是传输层的所有数据
12. TCP检验和
13. 标志位
  - URG：urgent，为1是紧急指针字段才有效，表明报文中有紧急字段，应该优先传送
  - ACK：当ACK为1时，确认号字段有意义，为0时不重要
  - PUSH：交互式网络通信
  - RST:重置，出现严重错误，需要断开连接 ，重新建立连接
  - syn: syn=1,ack=0表明要建立一个连接请求，syn=1,ack=1同意建立连接
  - fin : fin=1表明数据发送完毕，要求断开连接
14. 序号4个字节，传输的每一个字节都会有一个编号，连续的字节编号是连续的
15. 在建立连接后，序号代表这次传给对方的TCP数据部分的第一个字节的编号
16. 确认号：在建立连接后，期望对方下一次传过来的TCP数据部分的第一个字节的编号。
17. TCP可靠传输-停止等待ARQ协议
  - ARQ-自动重传
  - 连续ARQ协议+滑动窗口协议
  - 接收方一次确认M1,M2,M3,M4
  - 只是确认M4收到
  - 滑动窗口大小由接收方决定
  - SACK，选择性确认告诉发送方那些数据丢失哪些数据提前收到（选项字段排上用场）
  - 窗口占4个字节，用于告知下一次发送窗口的大小 
  - 选项可以用来存放很多东西
  - SACK信息会存放在TCP首部的选项部分（尽最大努力防止重传）
